{% extends 'base.html' %}
{% load static %}
{% block title %}FAQ | QuickPay{% endblock %}
{% block content %}

<style>
/* Smooth card animation */
.accordion-item {
    border: none;
    margin-bottom: 10px;
    border-radius: 12px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    overflow: hidden;
    transition: all 0.3s ease-in-out;
}

.accordion-button {
    background-color: #f8f9fa;
    font-weight: 600;
    color: #212529;
}

.accordion-button:not(.collapsed) {
    background-color: #0d6efd;
    color: white;
}

.accordion-body {
    background-color: #fff;
    font-size: 0.95rem;
    color: #444;
}

/* Search bar styling */
#faqSearch {
    width: 100%;
    max-width: 500px;
    margin: 20px auto;
    padding: 10px 15px;
    border-radius: 25px;
    border: 1px solid #ccc;
    transition: 0.3s;
}
#faqSearch:focus {
    outline: none;
    border-color: #0d6efd;
    box-shadow: 0 0 5px rgba(13,110,253,0.3);
}

/* Icons for expand/collapse */
.accordion-button::after {
    filter: brightness(0) invert(1);
}
</style>

<div class="container mt-5 mb-5">
    <h2 class="text-center mb-4 fw-bold text-primary">ğŸ’¬ Frequently Asked Questions</h2>

    <div class="accordion" id="faqAccordion">
        <!-- Admin Section -->
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingAdmin">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseAdmin">
                    ğŸ§‘â€ğŸ’¼ Admin
                </button>
            </h2>
            <div id="collapseAdmin" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                <div class="accordion-body">
                    <p><strong>What can an Admin do?</strong><br>Admins manage users, approve roles, and oversee payroll configuration.</p>
                    <p><strong>Can Admins edit payroll details?</strong><br>No, payrolls are handled by Payroll Managers only.</p>
                    <p><strong>Where can Admins view reports?</strong><br>Under â€œAnalytics & Reportsâ€ in the Admin dashboard.</p>
                </div>
            </div>
        </div>

        <!-- HR Manager -->
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingHR">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHR">
                    ğŸ‘©â€ğŸ’¼ HR Manager
                </button>
            </h2>
            <div id="collapseHR" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                <div class="accordion-body">
                    <p><strong>What are HR Managers responsible for?</strong><br>HR Managers handle employees, performance, and salary increments.</p>
                    <p><strong>How to add performance reviews?</strong><br>Go to â€œPerformance Managementâ€ â†’ â€œAdd Review.â€</p>
                    <p><strong>Can HR approve pay structures?</strong><br>Yes, HR can approve or request changes to common pay rules.</p>
                </div>
            </div>
        </div>

        <!-- Payroll Manager -->
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingPayroll">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapsePayroll">
                    ğŸ’° Payroll Manager
                </button>
            </h2>
            <div id="collapsePayroll" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                <div class="accordion-body">
                    <p><strong>What does a Payroll Manager do?</strong><br>Processes payrolls, deductions, and generates payslips.</p>
                    <p><strong>How is ESI calculated?</strong><br>ESI applies only if gross salary â‰¤ â‚¹21,000.</p>
                    <p><strong>Who can add bonuses?</strong><br>HR decides bonus via performance reviews; Payroll just applies them.</p>
                </div>
            </div>
        </div>

        <!-- Employee -->
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingEmployee">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseEmployee">
                    ğŸ‘©â€ğŸ’» Employee
                </button>
            </h2>
            <div id="collapseEmployee" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                <div class="accordion-body">
                    <p><strong>How can I view my payslip?</strong><br>Go to â€œView Payslipâ€ from your dashboard.</p>
                    <p><strong>Can I apply for leave?</strong><br>Yes, from â€œApply Leaveâ€ â†’ â€œSubmit Request.â€</p>
                    <p><strong>Will I be notified of salary updates?</strong><br>Yes, youâ€™ll receive system notifications automatically.</p>
                </div>
            </div>
        </div>

        <!-- General -->
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingGeneral">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseGeneral">
                    ğŸ§  General
                </button>
            </h2>
            <div id="collapseGeneral" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                <div class="accordion-body">
                    <p><strong>Is my data secure?</strong><br>Yes, data is encrypted and access-controlled.</p>
                    <p><strong>Can multiple users log in at once?</strong><br>Yes, each user only sees data for their role.</p>
                    <p><strong>Does QuickPay calculate taxes automatically?</strong><br>Yes, including PF, ESI, and TDS deductions.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// ğŸ” Live FAQ search
document.getElementById("faqSearch").addEventListener("keyup", function () {
    let input = this.value.toLowerCase();
    let items = document.querySelectorAll(".accordion-item");

    items.forEach(item => {
        let text = item.textContent.toLowerCase();
        item.style.display = text.includes(input) ? "" : "none";
    });
});
</script>

{% endblock %}
